{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Craig/Desktop/WEB%20DEV/final%20project/deployment/lokalista/app/auth/signup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"@/lib/supabase/browserClient\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function SignupPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [fullName, setFullName] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [errors, setErrors] = useState<{ [k: string]: string }>({});\n  const [submitting, setSubmitting] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  // Check if user is already logged in\n  useEffect(() => {\n    const supabase = createClient();\n    \n    const checkSession = async () => {\n      try {\n        const { data, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          console.error('Error getting session:', error);\n          setLoading(false);\n          return;\n        }\n        \n        if (data?.session) {\n          router.push(\"/dashboard\");\n        } else {\n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error in checkSession:', err);\n        setLoading(false);\n      }\n    };\n\n    checkSession();\n\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      if (session) {\n        router.push(\"/dashboard\");\n      } else {\n        setLoading(false);\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, [router]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ backgroundColor: \"#eadbfd\" }}>\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8c52ff] mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  function isEmail(v: string) {\n    return /.+@.+\\..+/.test(v);\n  }\n\n  async function onSubmit() {\n    const e: { [k: string]: string } = {};\n    if (!fullName.trim()) e.fullName = \"Enter your full name.\";\n    if (!isEmail(email)) e.email = \"Enter a valid email.\";\n    if (password.length < 6) e.password = \"Password must be 6+ characters.\";\n    if (password !== confirmPassword) e.confirmPassword = \"Passwords do not match.\";\n    if (!country.trim()) e.country = \"Enter your country.\";\n    if (!city.trim()) e.city = \"Enter your city.\";\n    setErrors(e);\n    if (Object.keys(e).length !== 0) return;\n\n    setSubmitting(true);\n    setMessage(null);\n    try {\n      const supabase = createClient();\n      const { error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          emailRedirectTo: `${process.env.NEXT_PUBLIC_SITE_URL || \"http://localhost:3000\"}/auth/login`,\n          data: {\n            full_name: fullName,\n            country: country,\n            city: city,\n          }\n        },\n      });\n      if (error) {\n        setMessage(error.message);\n        return;\n      }\n      setMessage(\"Check your email to confirm your account, then sign in.\");\n      setTimeout(() => router.push(\"/auth/login\"), 1200);\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen\" style={{ backgroundColor: \"#eadbfd\" }}>\n      <div className=\"container py-12\">\n        <div className=\"min-h-[70dvh] flex items-center justify-center\">\n          <div className=\"w-full max-w-2xl\">\n            <div className=\"p-6 md:p-7 rounded-xl border border-border/60 bg-background shadow-sm\">\n              <div className=\"text-center mb-6\">\n                <div className=\"inline-flex items-center gap-2 mb-4\">\n                  <span className=\"h-8 w-8 rounded-xl bg-gradient-to-r from-fuchsia-500 to-violet-600 grid place-items-center text-white\">\n                    <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\n                      <path d=\"M12 21s7-4.5 7-10a7 7 0 10-14 0c0 5.5 7 10 7 10z\" stroke=\"currentColor\" strokeWidth=\"1.6\"/>\n                      <circle cx=\"12\" cy=\"11\" r=\"2\" fill=\"currentColor\" />\n                    </svg>\n                  </span>\n                  <span className=\"text-lg font-semibold bg-gradient-to-r from-fuchsia-500 to-violet-600 bg-clip-text text-transparent\">Lokalista</span>\n                </div>\n                <h1 className=\"h1 mb-2\">Join Lokalista</h1>\n                <p className=\"text-muted\">Create your account to discover amazing places in your city.</p>\n              </div>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"fullName\">Full Name</label>\n                  <input id=\"fullName\" value={fullName} onChange={(e) => setFullName(e.target.value)} placeholder=\"John Doe\" className=\"h-11 px-3 rounded-md border border-border/60 focus-ring w-full\" />\n                  {errors.fullName && <div className=\"text-sm text-red-600\">{errors.fullName}</div>}\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"email\">Email</label>\n                  <input id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"you@example.com\" className=\"h-11 px-3 rounded-md border border-border/60 focus-ring w-full\" />\n                  {errors.email && <div className=\"text-sm text-red-600\">{errors.email}</div>}\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"password\">Password</label>\n                  <input id=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Create password\" type=\"password\" className=\"h-11 px-3 rounded-md border border-border/60 focus-ring w-full\" />\n                  {errors.password && <div className=\"text-sm text-red-600\">{errors.password}</div>}\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"confirmPassword\">Confirm Password</label>\n                  <input id=\"confirmPassword\" value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)} placeholder=\"Confirm password\" type=\"password\" className=\"h-11 px-3 rounded-md border border-border/60 focus-ring w-full\" />\n                  {errors.confirmPassword && <div className=\"text-sm text-red-600\">{errors.confirmPassword}</div>}\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"country\">Country</label>\n                  <input id=\"country\" value={country} onChange={(e) => setCountry(e.target.value)} placeholder=\"United States\" className=\"h-11 px-3 rounded-md border border-border/60 focus-ring w-full\" />\n                  {errors.country && <div className=\"text-sm text-red-600\">{errors.country}</div>}\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"city\">City</label>\n                  <input id=\"city\" value={city} onChange={(e) => setCity(e.target.value)} placeholder=\"New York, NY\" className=\"h-11 px-3 rounded-md border border-border/60 focus-ring w-full\" />\n                  {errors.city && <div className=\"text-sm text-red-600\">{errors.city}</div>}\n                </div>\n              </div>\n\n              <button onClick={onSubmit} disabled={submitting} className=\"mt-6 w-full h-11 rounded-md bg-[#8c52ff] text-white hover:opacity-90 disabled:opacity-60\">\n                {submitting ? \"Creating accountâ€¦\" : \"Create account\"}\n              </button>\n              \n              {message && <div className=\"mt-3 text-sm text-center\">{message}</div>}\n              <div className=\"mt-5 text-sm text-center\">\n                Already have an account? <a href=\"/auth/login\" className=\"underline underline-offset-4 text-[#8c52ff]\">Log in</a>\n              </div>\n            </div>\n            <div className=\"mt-6 text-sm text-center\">\n              <a href=\"/\" className=\"underline underline-offset-4\">Back to home</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}